# serializer version: 1
# name: test_can_apply_tweaks_to_workflow
  Workflow(gui_workflow={'last_node_id': 8, 'last_link_id': 14, 'nodes': [{'id': 1, 'type': 'CheckpointLoaderSimple', 'pos': [593.9912109375, 1441.2381591796875], 'size': [315, 98], 'flags': {}, 'order': 1, 'mode': 0, 'inputs': [], 'outputs': [{'name': 'MODEL', 'type': 'MODEL', 'links': [10], 'slot_index': 0}, {'name': 'CLIP', 'type': 'CLIP', 'links': [12], 'slot_index': 1}, {'name': 'VAE', 'type': 'VAE', 'links': [6], 'slot_index': 2}], 'properties': {'Node name for S&R': 'CheckpointLoaderSimple'}, 'widgets_values': ['juggernautXL_juggernautX.safetensors']}, {'id': 2, 'type': 'KSampler', 'pos': [2061.75390625, 1429.724365234375], 'size': [315, 474], 'flags': {}, 'order': 5, 'mode': 0, 'inputs': [{'name': 'model', 'type': 'MODEL', 'link': 11}, {'name': 'positive', 'type': 'CONDITIONING', 'link': 2}, {'name': 'negative', 'type': 'CONDITIONING', 'link': 3}, {'name': 'latent_image', 'type': 'LATENT', 'link': 7}], 'outputs': [{'name': 'LATENT', 'type': 'LATENT', 'links': [8], 'slot_index': 0}], 'properties': {'Node name for S&R': 'KSampler'}, 'widgets_values': [316381668905581, 'randomize', 20, 8, 'euler', 'normal', 1]}, {'id': 3, 'type': 'CLIPTextEncode', 'pos': [1592.681396484375, 1540.5108642578125], 'size': [400, 200], 'flags': {}, 'order': 3, 'mode': 0, 'inputs': [{'name': 'clip', 'type': 'CLIP', 'link': 13}], 'outputs': [{'name': 'CONDITIONING', 'type': 'CONDITIONING', 'links': [2]}], 'properties': {'Node name for S&R': 'CLIPTextEncode'}, 'widgets_values': ['An old man on a park bench']}, {'id': 4, 'type': 'CLIPTextEncode', 'pos': [1596.7044677734375, 1803.4591064453125], 'size': [400, 200], 'flags': {}, 'order': 4, 'mode': 0, 'inputs': [{'name': 'clip', 'type': 'CLIP', 'link': 14}], 'outputs': [{'name': 'CONDITIONING', 'type': 'CONDITIONING', 'links': [3]}], 'properties': {'Node name for S&R': 'CLIPTextEncode'}, 'widgets_values': ['']}, {'id': 5, 'type': 'VAEDecode', 'pos': [2473.87451171875, 1391.7969970703125], 'size': [210, 46], 'flags': {}, 'order': 6, 'mode': 0, 'inputs': [{'name': 'samples', 'type': 'LATENT', 'link': 8}, {'name': 'vae', 'type': 'VAE', 'link': 6}], 'outputs': [{'name': 'IMAGE', 'type': 'IMAGE', 'links': [9], 'slot_index': 0}], 'properties': {'Node name for S&R': 'VAEDecode'}}, {'id': 6, 'type': 'EmptyLatentImage', 'pos': [2057.55859375, 1739.7811279296875], 'size': [315, 106], 'flags': {}, 'order': 0, 'mode': 0, 'inputs': [], 'outputs': [{'name': 'LATENT', 'type': 'LATENT', 'links': [7]}], 'properties': {'Node name for S&R': 'EmptyLatentImage'}, 'widgets_values': [1024, 1024, 1]}, {'id': 7, 'type': 'SaveImage', 'pos': [2466.687744140625, 1545.7578125], 'size': [315, 270], 'flags': {}, 'order': 7, 'mode': 0, 'inputs': [{'name': 'images', 'type': 'IMAGE', 'link': 9}], 'outputs': [], 'properties': {}, 'widgets_values': ['ComfyUI']}, {'id': 8, 'type': 'LoraLoader', 'pos': [1196.7196044921875, 1665.0206298828125], 'size': [315, 126], 'flags': {}, 'order': 2, 'mode': 0, 'inputs': [{'name': 'model', 'type': 'MODEL', 'link': 10}, {'name': 'clip', 'type': 'CLIP', 'link': 12}], 'outputs': [{'name': 'MODEL', 'type': 'MODEL', 'links': [11], 'slot_index': 0}, {'name': 'CLIP', 'type': 'CLIP', 'links': [13, 14], 'slot_index': 1}], 'properties': {'Node name for S&R': 'LoraLoader'}, 'widgets_values': ['Hyper-SDXL-12steps-CFG-lora.safetensors', 1, 1]}], 'links': [[2, 3, 0, 2, 1, 'CONDITIONING'], [3, 4, 0, 2, 2, 'CONDITIONING'], [6, 1, 2, 5, 1, 'VAE'], [7, 6, 0, 2, 3, 'LATENT'], [8, 2, 0, 5, 0, 'LATENT'], [9, 5, 0, 7, 0, 'IMAGE'], [10, 1, 0, 8, 0, 'MODEL'], [11, 8, 0, 2, 0, 'MODEL'], [12, 1, 1, 8, 1, 'CLIP'], [13, 8, 1, 3, 0, 'CLIP'], [14, 8, 1, 4, 0, 'CLIP']], 'groups': [], 'config': {}, 'extra': {'ds': {'scale': 1.6940000000000053, 'offset': [-1357.8089102097, -1514.3590659107385]}, 'node_versions': {'comfy-core': '0.3.12'}, 'VHS_latentpreview': False, 'VHS_latentpreviewrate': 0}, 'version': 0.4}, api_workflow={'1': {'inputs': {'ckpt_name': 'juggernautXL_juggernautX.safetensors'}, 'class_type': 'CheckpointLoaderSimple', '_meta': {'title': 'Load Checkpoint'}}, '2': {'inputs': {'seed': 316381668905581, 'steps': 20, 'cfg': 8.0, 'sampler_name': 'euler', 'scheduler': 'normal', 'denoise': 1.0, 'model': ['8', 0], 'positive': ['3', 0], 'negative': ['4', 0], 'latent_image': ['6', 0]}, 'class_type': 'KSampler', '_meta': {'title': 'KSampler'}}, '3': {'inputs': {'text': 'An old man on a park bench', 'clip': ['8', 1]}, 'class_type': 'CLIPTextEncode', '_meta': {'title': 'CLIP Text Encode (Prompt)'}}, '4': {'inputs': {'text': '', 'clip': ['8', 1]}, 'class_type': 'CLIPTextEncode', '_meta': {'title': 'CLIP Text Encode (Prompt)'}}, '5': {'inputs': {'samples': ['2', 0], 'vae': ['1', 2]}, 'class_type': 'VAEDecode', '_meta': {'title': 'VAE Decode'}}, '6': {'inputs': {'width': 1024, 'height': 1024, 'batch_size': 1}, 'class_type': 'EmptyLatentImage', '_meta': {'title': 'Empty Latent Image'}}, '7': {'inputs': {'filename_prefix': 'ComfyUI', 'images': ['5', 0]}, 'class_type': 'SaveImage', '_meta': {'title': 'Save Image'}}, '8': {'inputs': {'lora_name': 'Hyper-SDXL-12steps-CFG-lora.safetensors', 'strength_model': 1.0, 'strength_clip': 1.0, 'model': ['1', 0], 'clip': ['1', 1]}, 'class_type': 'LoraLoader', '_meta': {'title': 'Load LoRA'}}, 3: {'inputs': {'text': 'An old man on a park bench', 'clip': ['8', 1]}, 'class_type': 'CLIPTextEncode', '_meta': {'title': 'CLIP Text Encode (Prompt)'}}, 2: {'inputs': {'seed': 316381668905581, 'steps': 20, 'cfg': 8.0, 'sampler_name': 'euler', 'scheduler': 'normal', 'denoise': 1.0, 'model': ['8', 0], 'positive': ['3', 0], 'negative': ['4', 0], 'latent_image': ['6', 0]}, 'class_type': 'KSampler', '_meta': {'title': 'KSampler'}}}, name='Default Workflow')
# ---
# name: test_can_create_workflow_from_image
  Workflow(gui_workflow={'last_node_id': 8, 'last_link_id': 14, 'nodes': [{'id': 1, 'type': 'CheckpointLoaderSimple', 'pos': [593.9912109375, 1441.2381591796875], 'size': [315, 98], 'flags': {}, 'order': 1, 'mode': 0, 'inputs': [], 'outputs': [{'name': 'MODEL', 'type': 'MODEL', 'links': [10], 'slot_index': 0}, {'name': 'CLIP', 'type': 'CLIP', 'links': [12], 'slot_index': 1}, {'name': 'VAE', 'type': 'VAE', 'links': [6], 'slot_index': 2}], 'properties': {'Node name for S&R': 'CheckpointLoaderSimple'}, 'widgets_values': ['juggernautXL_juggernautX.safetensors']}, {'id': 2, 'type': 'KSampler', 'pos': [2061.75390625, 1429.724365234375], 'size': [315, 474], 'flags': {}, 'order': 5, 'mode': 0, 'inputs': [{'name': 'model', 'type': 'MODEL', 'link': 11}, {'name': 'positive', 'type': 'CONDITIONING', 'link': 2}, {'name': 'negative', 'type': 'CONDITIONING', 'link': 3}, {'name': 'latent_image', 'type': 'LATENT', 'link': 7}], 'outputs': [{'name': 'LATENT', 'type': 'LATENT', 'links': [8], 'slot_index': 0}], 'properties': {'Node name for S&R': 'KSampler'}, 'widgets_values': [176628554975370, 'randomize', 20, 8, 'euler', 'normal', 1]}, {'id': 3, 'type': 'CLIPTextEncode', 'pos': [1592.681396484375, 1540.5108642578125], 'size': [400, 200], 'flags': {}, 'order': 3, 'mode': 0, 'inputs': [{'name': 'clip', 'type': 'CLIP', 'link': 13}], 'outputs': [{'name': 'CONDITIONING', 'type': 'CONDITIONING', 'links': [2]}], 'properties': {'Node name for S&R': 'CLIPTextEncode'}, 'widgets_values': ['a magical purple orb']}, {'id': 4, 'type': 'CLIPTextEncode', 'pos': [1596.7044677734375, 1803.4591064453125], 'size': [400, 200], 'flags': {}, 'order': 4, 'mode': 0, 'inputs': [{'name': 'clip', 'type': 'CLIP', 'link': 14}], 'outputs': [{'name': 'CONDITIONING', 'type': 'CONDITIONING', 'links': [3]}], 'properties': {'Node name for S&R': 'CLIPTextEncode'}, 'widgets_values': ['']}, {'id': 5, 'type': 'VAEDecode', 'pos': [2473.87451171875, 1391.7969970703125], 'size': [210, 46], 'flags': {}, 'order': 6, 'mode': 0, 'inputs': [{'name': 'samples', 'type': 'LATENT', 'link': 8}, {'name': 'vae', 'type': 'VAE', 'link': 6}], 'outputs': [{'name': 'IMAGE', 'type': 'IMAGE', 'links': [9], 'slot_index': 0}], 'properties': {'Node name for S&R': 'VAEDecode'}}, {'id': 6, 'type': 'EmptyLatentImage', 'pos': [2057.55859375, 1739.7811279296875], 'size': [315, 106], 'flags': {}, 'order': 0, 'mode': 0, 'inputs': [], 'outputs': [{'name': 'LATENT', 'type': 'LATENT', 'links': [7]}], 'properties': {'Node name for S&R': 'EmptyLatentImage'}, 'widgets_values': [1024, 1024, 1]}, {'id': 7, 'type': 'SaveImage', 'pos': [2466.687744140625, 1545.7578125], 'size': [315, 270], 'flags': {}, 'order': 7, 'mode': 0, 'inputs': [{'name': 'images', 'type': 'IMAGE', 'link': 9}], 'outputs': [], 'properties': {}, 'widgets_values': ['ComfyUI']}, {'id': 8, 'type': 'LoraLoader', 'pos': [1196.7196044921875, 1665.0206298828125], 'size': [315, 126], 'flags': {}, 'order': 2, 'mode': 0, 'inputs': [{'name': 'model', 'type': 'MODEL', 'link': 10}, {'name': 'clip', 'type': 'CLIP', 'link': 12}], 'outputs': [{'name': 'MODEL', 'type': 'MODEL', 'links': [11], 'slot_index': 0}, {'name': 'CLIP', 'type': 'CLIP', 'links': [13, 14], 'slot_index': 1}], 'properties': {'Node name for S&R': 'LoraLoader'}, 'widgets_values': ['Hyper-SDXL-12steps-CFG-lora.safetensors', 1, 1]}], 'links': [[2, 3, 0, 2, 1, 'CONDITIONING'], [3, 4, 0, 2, 2, 'CONDITIONING'], [6, 1, 2, 5, 1, 'VAE'], [7, 6, 0, 2, 3, 'LATENT'], [8, 2, 0, 5, 0, 'LATENT'], [9, 5, 0, 7, 0, 'IMAGE'], [10, 1, 0, 8, 0, 'MODEL'], [11, 8, 0, 2, 0, 'MODEL'], [12, 1, 1, 8, 1, 'CLIP'], [13, 8, 1, 3, 0, 'CLIP'], [14, 8, 1, 4, 0, 'CLIP']], 'groups': [], 'config': {}, 'extra': {'ds': {'scale': 1.6940000000000053, 'offset': [-1357.8089102097, -1514.3590659107385]}, 'node_versions': {'comfy-core': '0.3.12'}, 'VHS_latentpreview': False, 'VHS_latentpreviewrate': 0}, 'version': 0.4}, api_workflow={'1': {'inputs': {'ckpt_name': 'juggernautXL_juggernautX.safetensors'}, 'class_type': 'CheckpointLoaderSimple', '_meta': {'title': 'Load Checkpoint'}}, '2': {'inputs': {'seed': 176628554975370, 'steps': 20, 'cfg': 8.0, 'sampler_name': 'euler', 'scheduler': 'normal', 'denoise': 1.0, 'model': ['8', 0], 'positive': ['3', 0], 'negative': ['4', 0], 'latent_image': ['6', 0]}, 'class_type': 'KSampler', '_meta': {'title': 'KSampler'}}, '3': {'inputs': {'text': 'a magical purple orb', 'clip': ['8', 1]}, 'class_type': 'CLIPTextEncode', '_meta': {'title': 'CLIP Text Encode (Prompt)'}}, '4': {'inputs': {'text': '', 'clip': ['8', 1]}, 'class_type': 'CLIPTextEncode', '_meta': {'title': 'CLIP Text Encode (Prompt)'}}, '5': {'inputs': {'samples': ['2', 0], 'vae': ['1', 2]}, 'class_type': 'VAEDecode', '_meta': {'title': 'VAE Decode'}}, '6': {'inputs': {'width': 1024, 'height': 1024, 'batch_size': 1}, 'class_type': 'EmptyLatentImage', '_meta': {'title': 'Empty Latent Image'}}, '7': {'inputs': {'filename_prefix': 'ComfyUI', 'images': ['5', 0]}, 'class_type': 'SaveImage', '_meta': {'title': 'Save Image'}}, '8': {'inputs': {'lora_name': 'Hyper-SDXL-12steps-CFG-lora.safetensors', 'strength_model': 1.0, 'strength_clip': 1.0, 'model': ['1', 0], 'clip': ['1', 1]}, 'class_type': 'LoraLoader', '_meta': {'title': 'Load LoRA'}}}, name='Default Workflow')
# ---
# name: test_can_get_tweaks_from_file
  list([
    Tweak(selector={'id': '3'}, changes={'text': 'An old man on a park bench'}),
    Tweak(selector={'id': '2'}, changes={'seed': 387488229552385}),
  ])
# ---
# name: test_can_save_tweaks_to_yaml_file
  Tweaks(tweaks=[Tweak(selector={'id': '346'}, changes={'lora_name': 'test.safetensors'})], name='Default Tweaks', _original_yaml="tweaks:\n- changes:\n    lora_name: test.safetensors\n  selector:\n    id: '346'\n", _iteration=0)
# ---
